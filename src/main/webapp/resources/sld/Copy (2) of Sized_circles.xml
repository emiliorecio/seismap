<sld:StyledLayerDescriptor xmlns:sld="http://www.opengis.net/sld"
  version="1.0.0"
  xsi:schemaLocation="http://www.opengis.net/sld http://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ogc="http://www.opengis.net/ogc"
  xmlns:gml="http://www.opengis.net/gml">
  <sld:NamedLayer>
    <sld:Name>cite:eventandaveragemagnitudes</sld:Name>
    <sld:UserStyle>
      <sld:FeatureTypeStyle>
        <sld:Rule>
          <sld:PointSymbolizer>
            <sld:Graphic>
              <sld:Mark>
                <sld:WellKnownName>circle</sld:WellKnownName>
                <sld:Fill>
                  <sld:CssParameter name="fill">#FF0000
                  </sld:CssParameter>
                  <sld:CssParameter name="fill-opacity">
                    <ogc:Function name="if_then_else">
                      <ogc:Function name="isNull">
                        <ogc:Function name="recode">
                          <ogc:Function name="env">
                            <ogc:Literal>map.magnitudeType</ogc:Literal>
                          </ogc:Function>
                          <ogc:Literal>ML</ogc:Literal><ogc:PropertyName>averagemlmagnitude</ogc:PropertyName>
                          <ogc:Literal>MB</ogc:Literal><ogc:PropertyName>averagembmagnitude</ogc:PropertyName>
                          <ogc:Literal>MS</ogc:Literal><ogc:PropertyName>averagemsmagnitude</ogc:PropertyName>
                          <ogc:Literal>MW</ogc:Literal><ogc:PropertyName>averagemwmagnitude</ogc:PropertyName>
                          <ogc:Literal>MBLG</ogc:Literal><ogc:PropertyName>averagemblgmagnitude</ogc:PropertyName>
                          <ogc:Literal>MC</ogc:Literal><ogc:PropertyName>averagemcmagnitude</ogc:PropertyName>
                        </ogc:Function>
                      </ogc:Function>
                      <ogc:Literal>0</ogc:Literal>
                      <ogc:Function name="categorize">
                        <ogc:Function name="recode">
                          <ogc:Function name="env">
                            <ogc:Literal>map.magnitudeType</ogc:Literal>
                          </ogc:Function>
                          <ogc:Literal>ML</ogc:Literal><ogc:PropertyName>averagemlmagnitude</ogc:PropertyName>
                          <ogc:Literal>MB</ogc:Literal><ogc:PropertyName>averagembmagnitude</ogc:PropertyName>
                          <ogc:Literal>MS</ogc:Literal><ogc:PropertyName>averagemsmagnitude</ogc:PropertyName>
                          <ogc:Literal>MW</ogc:Literal><ogc:PropertyName>averagemwmagnitude</ogc:PropertyName>
                          <ogc:Literal>MBLG</ogc:Literal><ogc:PropertyName>averagemblgmagnitude</ogc:PropertyName>
                          <ogc:Literal>MC</ogc:Literal><ogc:PropertyName>averagemcmagnitude</ogc:PropertyName>
                        </ogc:Function>
                        <ogc:Literal>.25</ogc:Literal>
                        <ogc:Literal>3</ogc:Literal>
                        <ogc:Literal>.5</ogc:Literal>
                        <ogc:Literal>5</ogc:Literal>
                        <ogc:Literal>1</ogc:Literal>
                      </ogc:Function>
                    </ogc:Function>
                  </sld:CssParameter>
                </sld:Fill>
                <sld:Stroke>
                  <sld:CssParameter name="stroke">#000000
                  </sld:CssParameter>
                </sld:Stroke>
              </sld:Mark>
            </sld:Graphic>
          </sld:PointSymbolizer>
        </sld:Rule>
      </sld:FeatureTypeStyle>
    </sld:UserStyle>
  </sld:NamedLayer>
</sld:StyledLayerDescriptor>
