<sld:StyledLayerDescriptor xmlns:sld="http://www.opengis.net/sld"
  version="1.0.0"
  xsi:schemaLocation="http://www.opengis.net/sld http://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ogc="http://www.opengis.net/ogc"
  xmlns:gml="http://www.opengis.net/gml">
  <sld:NamedLayer>
    <sld:Name>cite:eventandaveragemagnitudes</sld:Name>
    <sld:UserStyle>
      <sld:FeatureTypeStyle>
        <sld:Rule>
          <sld:PointSymbolizer>
            <sld:Graphic>
              <sld:Mark>
                <sld:WellKnownName>circle</sld:WellKnownName>
                <sld:Fill>
                  <sld:CssParameter name="fill">
                    <ogc:Add>
                      <ogc:Mul>
                        <ogc:Function name="max">
                          <ogc:Literal>0</ogc:Literal>
                          <ogc:Function name="min">
                            <ogc:Function name="round">
                              <ogc:Mul>
                                  <ogc:Div>
                                    <ogc:Sub>
                                      <ogc:PropertyName>
                                        <ogc:Function name="env">
                                          <ogc:Literal>data.magnitudeProperty</ogc:Literal>
                                        </ogc:Function>
                                      </ogc:PropertyName>
                                      <ogc:Function name="env">
                                        <ogc:Literal>data.magnitudeMin
                                        </ogc:Literal>
                                      </ogc:Function>
                                    </ogc:Sub>
                                    <ogc:Sub>
                                      <ogc:Function name="env">
                                        <ogc:Literal>data.magnitudeMax
                                        </ogc:Literal>
                                      </ogc:Function>
                                      <ogc:Function name="env">
                                        <ogc:Literal>data.magnitudeMin
                                        </ogc:Literal>
                                      </ogc:Function>
                                    </ogc:Sub>
                                  </ogc:Div>
                                <ogc:Literal>512</ogc:Literal>
                              </ogc:Mul>
                            </ogc:Function>
                            <ogc:Literal>255</ogc:Literal>
                          </ogc:Function>
                        </ogc:Function>
                        <ogc:Literal>65536</ogc:Literal>
                      </ogc:Mul>
                      <ogc:Mul>
                        <ogc:Function name="max">
                          <ogc:Literal>0</ogc:Literal>
                          <ogc:Function name="min">
                            <ogc:Function name="round">
                              <ogc:Mul>
                                <ogc:Sub>
                                  <ogc:Literal>255</ogc:Literal>
                                  <ogc:Mul>
                                    <ogc:Literal>256</ogc:Literal>
                                    <ogc:Div>
                                      <ogc:Sub>
                                        <ogc:PropertyName>
                                          <ogc:Function name="env">
                                            <ogc:Literal>data.magnitudeProperty
                                            </ogc:Literal>
                                          </ogc:Function>
                                        </ogc:PropertyName>
                                        <ogc:Function name="env">
                                          <ogc:Literal>data.magnitudeMin
                                          </ogc:Literal>
                                        </ogc:Function>
                                      </ogc:Sub>
                                      <ogc:Sub>
                                        <ogc:Function name="env">
                                          <ogc:Literal>data.magnitudeMax
                                          </ogc:Literal>
                                        </ogc:Function>
                                        <ogc:Function name="env">
                                          <ogc:Literal>data.magnitudeMin
                                          </ogc:Literal>
                                        </ogc:Function>
                                      </ogc:Sub>
                                    </ogc:Div>
                                  </ogc:Mul>
                                </ogc:Sub>
                                <ogc:Literal>2</ogc:Literal>
                              </ogc:Mul>
                            </ogc:Function>
                            <ogc:Literal>255</ogc:Literal>
                          </ogc:Function>
                        </ogc:Function>
                        <ogc:Literal>256</ogc:Literal>
                      </ogc:Mul>
                    </ogc:Add>
                  </sld:CssParameter>
                  <sld:CssParameter name="fill-opacity">
                    <ogc:Add>
                      <ogc:Literal>0.1</ogc:Literal>
                      <ogc:Literal>.1</ogc:Literal>
                    </ogc:Add>
                  </sld:CssParameter>
                </sld:Fill>
                <sld:Stroke>
                  <sld:CssParameter name="stroke">#00FF00
                  </sld:CssParameter>
                </sld:Stroke>
              </sld:Mark>
            </sld:Graphic>
          </sld:PointSymbolizer>
        </sld:Rule>
      </sld:FeatureTypeStyle>
    </sld:UserStyle>
  </sld:NamedLayer>
</sld:StyledLayerDescriptor>
